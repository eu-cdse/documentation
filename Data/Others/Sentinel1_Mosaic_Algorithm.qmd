---
aliases: 
  - /Data/Sentinel1_Mosaic_Algorithm.html
format:
  html:
    code-fold: true
execute:
  echo: false
  output: asis
jupyter: python3

---

##### Algorithm

**Input data and preprocessing**

Sentinel-1 GRD data, as offered and pre-processed in Sentinel Hub, serves as input for the generation of mosaics. The preprocessing steps made in Sentinel Hub are explained in detail in the [Sentinel Hub documentation](https://documentation.dataspace.copernicus.eu/APIs/SentinelHub/Data/S1GRD.html#processing-chain){target="_blank"}. Here, we are only listing the main processing steps applied to the input data before mosaicking: 

**(1)** Calibration to beta0 backscatter coefficient

**(2)** Thermal noise removal

**(3)** Radiometric terrain correction using area integration

**(4)** Terrain Correction using Range-Doppler terrain correction

For steps 3 and 4, the Copernicus DEM was used with a spatial resolution of 10m over Europe and 30m for the rest of the world.

**Generation of mosaics**

Two different mosaics are being produced for each month: **IW mosaic** and **DH mosaic**

<table class="available-mosaic-bands" style="margin: 10px;">
  <thead>
    <tr>
      <th style="background-color: #9ea1a5"></th>
      <th style="background-color: #9ea1a5">IW mosaic</th>
      <th style="background-color: #9ea1a5">DH mosaic</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td rowspan="1">Polarization</td>
      <td>VV + VH</td>
      <td>HH + HV</td>
    </tr>
    <tr>
      <td rowspan="1">Acquisition mode</td>
      <td>IW acquisition mode</td>
      <td>All acquisition modes</td>
    </tr>
    <tr>
      <td rowspan="1">Orbit direction</td>
      <td colspan="2" style="text-align: center">both</td>
    </tr>
    <tr>
      <td rowspan="1">Processing grid</td>
      <td colspan="2" style="text-align: center">UTM grid with 100,08 x 100,08 km tiles ([link](https://s3.eu-central-1.amazonaws.com/sh-batch-grids/tiling-grid-2.zip){target="_blank"})</td>
    </tr>
    <tr>
      <td rowspan="1">Spatial resolution</td>
      <td>20 m</td>
      <td>40 m</td>
    </tr>
    <tr>
      <td rowspan="1">Output format</td>
      <td colspan="2" style="text-align: center">16-bit cloud optimized GeoTIFF</td>
    </tr>
  </tbody>
</table>

The weighted sum of the flattened backscatter observations was used for mosaicking data in a monthly stack. Observations with the highest available local resolution receive the highest local weights. Therefore, the differences in backscatter between areas sloping towards the sensor and away from the sensor in individual orbits are largely corrected, and the resulting signal is mainly a product of the local surface properties. Observations in radar shadows are filtered out and are not used. The algorithm is described in detail in the paper by D. Small “SAR backscatter multitemporal compositing via local resolution weighting” ([pdf](https://www.zora.uzh.ch/id/eprint/68085/1/2012_SmallD-AV_20120722-IGARSS12-LocalResolutionWeighting_Kopie_.pdf){target="_blank"} is available). The resulting mosaics have less noise and better spatial homogeneity when compared to each single Sentinel-1 GRD observation.
